<app-header
  [headerTitle]="'Alunos'"
  [headerMarginTop]="headerMarginTop"
  [searchbarOptions]="searchbarOptions"
  (refreshAction)="getEbdStudents()"
></app-header>

<ion-content
  [fullscreen]="true"
  [scrollEvents]="true"
  (ionScroll)="onContentScroll($event)"
>
  <ion-list *ngIf="ebdStudents$ | async as ebdStudents; else loadingTemplate">
    <ion-item *ngFor="let student of ebdStudents; let first = first" button lines="full">
      <ion-avatar slot="start">
        <img [src]="student?.picture || '/assets/img/person.png'" />
      </ion-avatar>
      <ion-label>
        <h3>{{student?.name}}</h3>
        <p>Classe {{student?.ebd_class}}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ng-template #loadingTemplate>
    <ion-progress-bar type="indeterminate"></ion-progress-bar>
  </ng-template>
</ion-content>